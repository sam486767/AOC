puzzle_input = r"""
@@@@@..@@@@@@@@..@@@@.@@.@.@@.@@@@@@@.@@.@..@@@@..@@@..@.@@..@@@@.@......@@@..@@@@.@@@@@@@@.@@@@@.@@@@@@@@.@.@@..@.@@@@@@@@@@.@..@..@@..@.@
@.@..@@.@..@@@@.@..@@@..@@....@.@.@...@.@@..@.@@.@@@@.@@.@@@..@..@.@.@..@@@@@.@@@.@@@..@@.@@@@.@@.@..@.@@@@@@@.@@...@@@@.@@.@@@@@@@@@@..@.@
@..@@@@@.@.@@.@.@.@@@@@...@.@@.@.@@@@@.@@.@@...@@@...@@@@@@@@@@@@@@.@.@@.@.@@@..@.@@.@@@@..@@.@.@.@@@@@@@@@.@.@@@@..@.@@@@@@@@.@@@@@@.@@@..
@@@.@@@@.@.@@@@...@@..@@@.@.@@@.@.@.@@..@.@@@@@@@@@@@.@@.@@@.@@.@@@@@@@@@@@@..@..@@@..@@@.@.@@..@@.@.@..@.@@@@.@@@@@.@@.@@@.@@@@@..@@..@...
@@@@..@.@...@@.@.@@..@@@@.@@@@@@....@@..@@@.@@@@@@@@......@@@@@@.@@...@@.@@.@@@@@.@@..@@.@@.@@@.@@@@@@@@...@@@@.@.@@.@..@..@@@.@...@@.@...@
@..@@@@@..@@.@.@@..@@@.@@.@@@@@@...@@@@@..@@.@@@@@..@.@...@@@..@@.@@@@.@@....@@@@@@@@@@@@.@@@.@@@@..@@@@.@..@@@@@@.@.@...@..@.@..@.@@.@@.@@
.@..@@@@@..@@.@@@@@@@@.@@@.@@@.@.@...@..@@@.@.@@@.@@.@.@..@.@@..@@..@.@.@@@@..@.@@@@@@@@@@@@.@..@...@.@@@@@@@@@.@@...@@@.@.@@@..@@@.@@@@@@@
@@@@.@@@@.@..@.@.@..@..@@.@@@@@@.@......@@@..@@@.@@@.@.@@@@..@@@.@@@..@@@@@..@@@@.@@@@@..@@.@.@@@@@..@@@.@@.@@@@@.@.@@.@@..@@@..@.@.@.@@.@@
@@@@@@@@.@..@@@@.@.@@..@.@.@@@@@....@.@@@..@@.@@@@@..@@....@@.@.@@@@@@@.@@@@@@@@.@@.@..@.@@@..@.@@@.@@..@@@.@@@@@@@@@@.@.@@@@..@@@@@@@@.@@@
.@.@@...@.@.@@@@@.@@@@@@@...@..@@@@@.@.@@@@@@@@@.@@..@.@@.@@@..@@@.@@@.@@@.@.@@.@@@@@@@@@@..@.@@@@@@@@@@@.@@@....@@.@.@@@@.@@..@@@@@@.@@@@@
@@@@..@..@.@@.@@@@.@.@@@@@@@@@@@.@@@....@@.@@@@.@..@@..@@.@@@@.@.@.@@.@@@.@.@@@@.@.@@@@@.@@@..@.@@@@@@..@...@@@@..@@@@@@@.@@@@@@@@@.@.@@@@@
...@@@@@@@@.@@@@...@@.@..@@@@@@@@@.@@@.@@@@.@@.@@....@@...@@@.@.@.@@@@@@@@@@.@@.@.@.@@@.@@..@@..@@.@.@.@.@.@.@@@@.@..@.@..@@@@.@.@@@@@.@@@.
@@@...@@@@@..@.@.@...@@..@.@@@@..@@@@...@@@@.@@@@@.@@@@.@@@@@..@.@@@@@.@@@@.@@@.@@@@..@@@@@..@.@@@...@@...@@@@@@@@.@.@@@..@@.@@@.....@@.@@@
.@@@@@.@@@@@@@..@@.@@@@@@@@@@.@@.@@.@@@@@.@@@@@..@@@@@@@@@..@@@@@@@@@.@@@..@.@.@@....@@..@..@.@@@.@@@@@@...@@@@@@@@@@@.@.@@..@.@@.@@@@.@@..
..@@@@@@@@@@.@.@@@@@@.@..@@.@.@@@@@@@@.@.@@@@@@@@.@.@@@.@@@@.@@@..@@..@@@@@.@@@.@@@@@@.@@@..@@@@@...@@@.@@@.@.@@...@@.@@@.@@@@@@@@@@@@@@@@@
@@.@..@@@.@@@.@@@@@@@@@@@..@..@.@@.@@@.@@@@@@@.@..@..@@@..@@@...@..@@@@@...@@.@@@@@@@@...@@..@@.@@@@....@@@@.....@.@...@@@..@@@@.@@@.@@@@@@
@@..@@.@@@.@@@@..@.@@@.@@.@@@@@@.@..@@@@@...@@@@@@@..@.....@@.@@.@..@@@..@@@@.@@@..@.@.@@@@.@@@@@@@@@@@@@@@@.@@.@.@.@@@@.@@..@.@@...@..@.@@
@@@.@@@@@@@@@@.@@@@.@@@@@@@@.@@@@@.@@@.@@..@.@@..@@@@@..@.@.....@.@@@@@..@.@@@.@@@@.@..@..@..@@@...@@@@..@.@.@@@@.@...@@@@@@@...@..@@.@@.@.
@.@@...@@.@@@@@@@..@.@.@@@..@@.@.@@@@...@.@@@@@@@@@@@@@@@..@@@@.@@....@@@@@...@@.@@.@@@@@@.@@.@@.@@.@@.@@.@@@.@.@.@@@@.@@.@.@@..@@..@.@@@@@
@@@@.@.@.@@@@@@@..@@@@@..@@.@.@@@.@@@.@.@@@@@@@@@@@@@@@@@...@@@....@.@.@@@@@@.@....@..@@.@@@@@..@@.@@@@@.@@@@.@@@@@..@@@@@.@@@@.@.@.@@@..@.
@@@.@@.@@@.@@@@.@@.@@@.@..@@.@..@@@@@.....@.@@.@.@@.@@.@@@.@.@@@.@@.@@@@..@..@@@..@@@@@.@....@@..@.@@@@@.@.@@@@..@@@@@@@@.@@....@@.@@.@@@..
.@@.@@.@@..@@@.@@@@@@@.@@@.@@@@@@@..@@.@@@.@@@@.@@.@..@@@.@@.....@.@@...@@.@.@@.@@@@@@@@.@@..@@@.@.@.@@.@@@@@@@.@..@@@@.@@@@@@@@..@..@@.@..
@@@...@@@.@@@@.@.@@.@@..@@@@@@@@@@@@.@.@@.@..@@@@@.@@@...@@@.@@.@.@.@......@@.@@.@.@@@.@@@@@..@@.@.@@..@@@@@@@.@@@..@..@@...@@@@@@@@@@@@@.@
@@@@.@....@@@@@@@@@@@..@@..@.@@..@@@@.@@@@@.@.@@@.@.@@.@@@@@@@@.@...@@.@@.@@@.@@@.@..@@.@@.@@..@@.@...@@@.@.@@@...@@@.@@@@@@@@.@.@@.@..@@@@
@@@@.@.@.@@@@@@@@.@@@@@.@.@.@.@.@@.@@@.@@@.....@@.@.@.@@@.....@@..@.@@@@@.@...@@@@@@.@@@.@.@..@@.@@@@@...@@@@.@.@.@..@@@..@@@@@@.@@.@@@.@..
..@@@.@.@@@@@@@@..@@@..@@@@@@@@@@.@.@@@@@@@@@..@@@@...@@@@.@..@@..@@@@.@@@@.@@@.@@.@@@@....@.@.@..@.@.@@..@@.@@@@@@.@...@@.@@@.@..@@@@.@.@@
..@@@@@.@.@@@.@@..@.@..@.@@@@@@@@@.@...@..@@@@@.@@@@@.@...@@....@@@@@.@.@@.@.@.@.@.@.@@@@@@...@@..@...@@@@.@@@@.@.@..@.@@@@@@@@@@.@@@@.@.@@
.@@@@@..@@@@.@@@@@..@@@.@@.@..@...@@@..@@@@@.@@.@@..@@@.@@..@@...@@@.@.@...@@.@@@@@..@@@@@.@@@@@@.@.@@@@.@.@.@.@@@@@.@@@@...@@@@@.@@@@@@.@.
@@@.@@..@...@@@@@@..@@@@@@@...@@@@@@@@......@@.@@.@@.@.@.@.@@..@@..@@.@.@.@@.@@@.@@@@@@@@@@@.@@.@@..@@@@...@@@@@@@@.@.@@@.@.@@@..@@@@@@...@
@..@@..@@@@@.@@@@.@.@@@.@..@.@.@.@.@@@.....@@@.@.@.@@.@@.@@..@@@@@@@@@...@@....@.@.@@@..@@..@@@@@...@@@@@@@@@@@@@@@@@@@.@...@@@@..@.@.@@@@@
@@..@.@@@.@@@..@.@@.@@@@@@..@@.@..@@@@@@.@@@.@@@...@@.@.@@@@.@.@@@@@..@@@@@@.@@@@.@.@@@@@@@@@@..@@.@@.@@.@@@.@.@@@..@@.@@.@@.@.@@@@@@@..@..
@..@@.@..@@@@@@@.@.@...@.@@@@@@.@@@@@....@@@@@....@@@.@@..@@@@..@@@.@.@@@@@@@@.@..@@@@@..@@@@@@@@.@@@.@@@@@@@@.@@@@.@@..@@...@@@@@.@@@.@@@.
@@@@@@@..@@@.@..@.@..@@.@.@@@@.@@@@.....@@.@.@@@.@@..@@.@@@.@..@@.@.@@.@.@.@@.@@@.@@.@@.@@@@@.@..@@.@...@@.@..@@@@@@@@@..@@@@@.@@.@@..@.@.@
@.@@@.@.@.@@.@@@@.@@....@@@@@.@@@..@..@@....@.@@@@@@..@@@.@@@@@@..@.@.@@@....@.@...@@@.@@@@@.@.@.@@@@@..@@@.@.@@..@@.@.@.@@@@@@.@.@..@@.@.@
.@@..@@.@.@@@@@.@@.@..@@.@@.@@@@@@@@...@.@@@@@@..@@@@@.@@.@.......@@.@@@@@@.@.@.@.@@@.@.@@@.@..@.@@@@...@@@@.@@..@..@@@@@.@@@@@.@@@@@@@@@@@
@@@@@@@@@.@...@@..@.@@@@@.@@@..@@@@@..@@@@.@.@.@.@@@@@@@@@@@@.@...@.@@@@@.@@.@@@@@@.@@@@@@@.@..@@@@.@.@@@@@@@@..@.@@@@@@@.@@.@@..@@@@@@@@@@
@@@...@@@@@@@.@@@@@@..@.@@@.@@@.@..@@.@@.@@.@@.@.@@.@.@@@..@@@@@....@@@@.@..@@...@@@@@@.@.@@.@@@..@.@.@.@@@@.@@@...@@@@@@.@@@..@.@@.@@.....
@@.@@@@@.@.@@@@...@@@@@@@.@.@@....@@.@.@@.@...@@.@@@@@@......@.@@@@@...@.@...@@@@@@@.@@..@@@.@@@@@.@.@@.@@@@..@@.@.@@@@@@.@@...@@..@@@@@.@@
@@@.@@@.@@..@@@@....@.@.@.@.@@@@.@..@@@@.@@@@@@@@@@..@.....@.@@.@@@.@@@@@@.@.@@.@@.@.@@@@@.@@@@@@@..@@@@@.@...@@@..@....@.@@@.@@.....@..@.@
@@@.@@.@@@@..@@@.@.@@.@..@@@@.@@.@@@.@@.@@.@@@..@@.@..@@@.@.@@@@..@.@@@@@.@..@@.@.@@@@@@.@@@@@.@.@@.@@@@.@@@..@.@@.@@.@.@..@@@.@.@@@.@@.@@@
@.@@@@@@@@..@@@@@@@@@@..@@@@.@@....@.@...@@@@....@@@@.@@@@.@@@@@@.@@.@..@.@@@@@.@.@@@@@..@@.@@..@@@.@@.@.@@.....@@@..@@@@..@@@@@.@@.@@@@..@
..@@@@@@@@@.@@@.@@@@@.@@@..@.@...@........@@@.@@.@@@@@...@.@.@@.@..@..@@@.@.@...@@@.@.@@.@..@@@@..@@@@.@......@@.@@..@.@@..@@@..@.....@@@.@
.@@@@..@.@@.@@@.@@@@@@@.@@@..@@..@@@.@..@..@@@.....@@.@@@@@@@@.@.@.@.@@@@@@..@@@@@@.@@.....@.@..@@..@@..@@@.@@@@.@@@.@@.@@@.@.@@..@@.@@@..@
.@@@@@@@@@@@@@.@@@@.@..@@.@..@@.@@.@.@@.@@@@@@@.@@.@@@...@@@.@@..@@..@.@..@@@@@@@@@@@@.....@@@@@@@@@@@@.@@.@@.@@@.@@.@....@@@...@@.@.@@.@@.
.@....@@@@@@@@@@..@@.@@@@..@@@@@.@@@@@@..@...@.@.....@@@@@@...@@.@@.....@@@@@@@.@@@@.@@.@.@@@.@@.@@@@@@@@@..@@.@.@@@.@@@.@@@@.@@.@.@..@.@.@
@@@@.@@.@..@@.@@@@@@@..@.@.@..@..@@@.@@@@@@@.@.@.@@@..@@@@@@.@@@.@.@..@@@@@@@@@....@@.@@@@@@..@@@..@.@@@@@..@@....@@@@@@.@..@@@...@.@.@..@@
@@.@@@@...@@.@.@@.@@@.@@@@@....@@@@@@.@@.@..@.@.@@.@@@@.@.@@@@@@..@@@...@@@@@@@....@.@@@@.@@@@@.@@@.@@..@@.@.@..@@@@@@@.@..@@@@@@@@..@@.@@@
.@@@@.@@@@.@.@...@.@@@..@..@@@@@@@@.@.@..@.@..@@@@@.@..@@@@@@.@@@@@@@.@@@.@@@...@.@.@@@@@@.@@@...@.@..@@@@@.@..@..@.@..@@@@@@@@@@.@@@.@.@@.
@...@.@@@@@.@@@@@..@@.@@@.@@@@@..@@@@@@@@@@@...@@@@@@.....@@.@.@.@@@@@@@@..@@@@@@@@@@@@.@.....@@.@..@@@@.@...@@@@@@@@...@@@.@@@@.@@@@@@@...
.@.@..........@...@....@...@@.@@@@@@@.@@.@...@@.@..@@..@@@..@@@@...@@...@@@..@@..@@@@@.@@@@@@@.@...@@@@@@@@@@..@..@@@@@@.@.@@@@..@.@@@@@.@.
@@.@@@@.@@.@@@@.@@.@@@@.@@@.@.@@.@@@@@.@@@.@..@@@@@.@@@..@@..@@.@.@@...@@@....@@..@@..@.@@@...@@@@.@@...@..@@@@@..@@@@@@.@@.@.@@..@@.@.@@@@
@@@@@....@....@@.@..@@@@...@...@@.@.@@@..@@@@.@..@.@@@@.@@@@..@.@.@.@@@@@..@@@@.@@....@.@.@.@..@..@@.@..@@@@@.@@@.@@@@@@@@.@@@@@@.@@@@.@@.@
@.@....@..@@@@@@@.@@@.@.@@@@@.@.@@@.@@@@@@@@.@@@.@@@.@@@@.@.@..@.@@@@@@..@@.@..@@@.@.@@@@.@@@.@@@@..@@@@.@@@@@..@@@.@..@@@@.@.@@@@.@@@.@...
..@@@@@@@@...@@@@.@@.@@@..@@@@..@@.@@.@..@......@...@@....@@.@@@@@@.@@@@@@@@@@@..@@@.@.@@@@.@..@@.@.@@.@..@.@@@@@..@..@@@@@@.@.@.@.@@.@@@@@
@.@....@.@@...@@@@@@.@@@@@.@@@@@@@@.@.@...@.@.@@@.@@@@@@......@...@.@@..@@.@@@@.....@@@@@@@...@@...@@@.@@.@@@@@@@@@@@@@.@@@@@@@.@@@@@@.@@@@
@@@@.@@@@@@..@@.@@..@@.@..@.@..@@@@@@@@@@@....@.......@..@.@@.@@.@@@@@@@@@@.@@@@@@@..@..@@.@@@.@@.@.@@.@...@..@..@@@.@.@@@..@@@.@..@.@@@.@@
@@@.@@.@@@..@@@.@@.@@.@@.@@@@@@@@@.@.@.@@@.@@.@@@...@@.@@....@@@@.@@..@@@@@@.@@@.@@@@@.@@....@@@@@@.@...@@.@.@@@.@@@@.@@@@...@@@@@@@.@@.@@@
@.@@@@..@.@...@@@@@@@@@..@@@@@@@@@@@.@..@@@@@.@....@.@.@@@.@@.@...@.@.@@@@...@@@...@..@@@@@@@@@.@.@@..@@@@@@.@@.@...@@..@@.@@.@@@.@..@.@.@@
.@@@.@.@@...@.@@@@@@@@@@.@@@@.@.@.@@@@@.@.@@@@@@@@@@@.@.@@@@@@@@@.@...@@@@.@@@@@.@...@@.@@.@@@@..@@@@@@@.@@@..@@@.@@.@@@@@.@@@@@@.@@@@@@..@
@.@@.@@.@@@.@@@@@@.@@.@@.@.@@@.@@..@@.@.@@@@@.@@@@....@.@...@@@@.@.@..@@@.@@@.@.@.@.@.@...@.@@.@@@@.@@.@@..@.@@@@@@@.@.@..@.@@.@.@.@@.@@@@.
.@@..@..@@@@@@@@.@@@@@.@.@.@.@@@@@....@@..@@.@.@.@@@@@@.@..@..@.@@..@@@@@@.@..@.@@.@@@.@..@..@.@@.@@@@@@@.@@.@@@@.@..@.@@.@@@.@@.@@@.@.@..@
.@@.@@@.@@....@@..@.@.@.@@@..@.@@@.@@@@@@.@@@@.@@@.@@.@@...@.@.@@@@@@..@..@.@.@@@@@@@@@...@@@..@.@..@..@@.@@@..@..@@@.@.@@@@@...@@@@@@@@@.@
@@.@..@@@.@@...@@@@@..@@....@@@@@@@@@.@.@@@@.@...@.@@@..@@@@@@@@..@@@.@@..@.@@@..@@@@.@@@..@@@.....@...@.@.@..@.@.@@@@...@@@@.@@@@.@.@@@..@
@@@@@.@@..@@@@.@@.@@.@.@@@@.@.@@@@@@.@@..@@..@@@...@.@@@@....@@.@.@..@.@@@...@@.@.@@@@@@@@.@.@@.@.@@.@@@@@..@@.@@@@@@@@..@.@@@@.@@.@@..@..@
@@.....@@@@.@@.@.@@@@@@@@.@@@@@..@.@@...@.@@.@@@@@@@..@@.@@.@@@.@.@@.@@@@.@@@....@@@@..@@@.@.@..@@....@@@..@....@@.@.@..@.@@@@@@@@.@@@..@@.
.@.@@@@..@@@.@@.@.@@@.@@@@..@@@@@@@@@.@@@@.@@@@.@@@.@@@.@@@...@..@.@@...@@@@@..@@@.@@@..@@.@@@@.@@.@@@.@@@@@@@@.@.@...@.@.@@..@.@@@@..@@@@@
@@..@.@.@@.@@@@@@@..@@@@.@@.@@@@..@@@.@@.@@@..@@@@.@.@@.@@@@.@@.@@@@@@@@@.@.@...@@@...@@@.@@...@@@@.@@.@@..@.@...@@@@@@@.@@@.@@@...@@@@.@@@
..@.@@@@@@..@@..@.@@@@.@..@@@@....@....@.@@.@@.@..@.@@.@.@@@@@.@@@.@@@.@@@@@.@@@@.@@...@@@......@@.@@@.@.@@.@.@@@@@@@@.@@@.@@@@@@@@@@.@.@@.
@.@..@..@.@@@.@.@.@.@@@..@@..@@..@....@@@@@@.@@@@...@.@.@.@@@@@.@@@@@@@@@.@....@.@..@@@.@@@@.@@@.@@.@@@@@@.@@.@@@@@@@.@@@..@...@@@..@@...@@
.@@@@@...@@.@.@@@@@@@@@@@@.@@@..@.@.@@@..@.@..@@..@.@@@.@@@@..@..@..@@.@.@@..@..@@.@...@@@@@@@.@@@@.@@..@.@@@@@@@@@.@@.@@@.@@.@@.@..@@@@@@@
..@..@@@..@.....@.@@@@@@@@@@@.@.....@.@...@.@@@@@@@@@@@..@.@@@@..@.....@@.@.@@@@@@.@@@@..@.@.@@@@@@@@@...@.@@@.@@...@@.@.@@.@@...@@@@@@@@@@
@...@@@.@.@@@.@.@@@..@...@@@@@@..@@.@.@@.@.@.@@...@.....@.@@@.@...@@@..@@@@@...@.@@.@.@@@.@@.@@@@@@.@@@@@@@@@.@@@@@.@.@@@..@.@@@@...@@@@@..
@@@@@@.@@@.@....@.@.@.@@@@.@@.....@@.@..@..@@@@@@...@@..@@..@@@@@@@.@..@@.@..@.@@@@@@@@@..@.@@@.@@@.@@.@@@.@@@@...@......@.@@@.@@@@.@@@.@..
@@@@.@@@...@@@@@@..@@.@.@@..@@@.@@.@@@...@......@@@.@@@@@@....@@@.@@.@@@@.@...@@@@@@@@.@@..@@.@@@@.@@@.@.@@@@@.@.@@.@.@...@@.@@@.@@@@@@@@@.
...@@.@@@@....@@..@.....@@.@@...@@@..@.@@.@@.@@@.@@@.@@@@.@@.@@@@.@@..@.@@.@..@@@@@@.@@@@@@@..@@@@@@.@@@@@@.@@@@@.@...@@@..@.@@@@@@@.@@@@@@
@@.@.@.@.@.@@@@@@@@@@......@@@@@@@@@.@@..@@@@@@@@@@@.@@.@@@.@.@@....@.@..@@..@@@@..@@@....@@@..@.@@..@.@@@..@@.@.@@@...@@@@@@@@..@@.@@@....
@@@@.@@@@@@@@@@@@@@@@@@@.@@.@@@@.@@@@.@@..@@.@@@@.@@.@@@@.@.@@.@.@@@@.@@.@@@@@...@...@@.@.@@@@...@@.@@.@@@...@.@...@.@@.@.@@.@@@@.@@@@@@@.@
.@.@.@@@@@@@@@..@@.@@@@..@.@@.@@.@..@@..@@@@.@@@..@@@...@@@@.@.@@...@.@@@@@@@..@.@@.@@@@@.@@@@@@..@@@@..@@@@...@@....@@@@.@.@@@.@@..@.@@.@.
@@..@.@.@.@@@@@@.@@..@..@.@.@@@@@....@@@@.@@@@@@.@.@.@@..@@...@@.@..@@@.@.@@.@@@@@.@@.......@.@.@.@@..@.....@@.@@.@@@@..@@@.@.@@@@@.@@@.@@@
.@@@..@..@@@@..@@@@@@.@...@.@..@@@.@@@.@@.@@@..@@@@.@@@@.@@....@@@.@@@@@@@@.@@@@.@@.@@@@@@@@@......@@.@@.@@@@.@.@@@@.@..@@.@.@.@@@@.@@@@@@.
.@@@@@@....@@.@..@.@@@@.@@@@@.@@@.@@@@.@@@@@@@@..@.@@@@.@@@@@@@@@@@@@..@@@@@@.@@@@@.@@.@@@@@@@@.@.@@.@@@@@.@@.@.@@@@@@@.@@@@@@.@.@@.@.@@@.@
@@@@@...@@.@.@.@.@@@.@.@@@@.@..@....@@@@@@@.@...@@.@@..@@@..@@.@@@....@@@@@.@@.@.@..@..@@@.@@...@.@@@@@@.@@@@@@@..@...@.@.@.@.@@..@.@@@@@..
....@@@@.@.@@..@@.@@.@@.@@@@@..@@.@.@@.@@@..@@.@.@@...@.@.@.@@.@@@@@@.@@@@@.@.@.@..@@@@@@.@@@.@@@.@.@@@@..@..@@.@@@..@@@@..@.@@@@@@@@@@.@@.
..@@.@@@@.@.@@@..@@...@@@@@@@.@..@@.@.@.@@@@@@.@@.@@@.@@.@@@@@..@.@@@...@@@@@.@@.@@.@@..@@@@@@...@@..@@...@@@@@@@@@@@@.@@.@@@@@@.@@.@@@@..@
@@@..@@.@@@@@...@...@@@@@.@@...@.@@@@..@@.@.@.@.@@.@@@@@@@..@@@@.@@@@.@@@@@..@@.@.@.@.@@@.@..@.@@@@@@@@@@.@.@.@@@@@@@@@.@@@@@.@@.@.@@@.@.@.
@@@.@@..@...@@.@.@@@.@@.@@@@.@@@@@...@@..@@@@.@..@@.@@@@..@@@.@.@.@..@@.@@@@@@.@.@@@.@@.@@@@@.@@@@@@@@.@...@@.@@@@.@.@@@.@@@@..@@@@@.@@..@@
@@...@@.@.@@.@@@.@..@.@@@@@.@.@@@.@@@@@@.@@.@.@@@@@.@@@@@.@@@@@@.@@@@....@..@....@@@..@.@.@@@@@.@@@@@@@@@@@.@@@@@@@@.@@.@@..@..@@@@@..@..@@
@..@@@.@.@.@@.@@@.@@@@@.@@@.@@@@.@@.@.@@.@@@@@@@.@@@...@@.@@@@@@.@@@.@..@@@@@@.@@....@.@@@@@@@..@..@@.@@@.@@@@@.@@@@.@@@@@.@.@@@.@.@.@.@.@.
@@@.@@..@@@@.@.@..@@.@@..@@..@@.@.@@.@.@@.@..@@@.@@@@.@..@.@..@@@@@@@.@@@@@@@@@@..@@@.@@.@@..@.@..@.@@@@@@@.@@@.@.@@@.@.....@.@..@@@@@@...@
@..@.@..@@@@@...@@...@..@@..@@.@..@@@@.@..@@..@@@@..@@@.@@...@.@@@@@@@@....@@@.@@@@@@@@@@@@@.....@@..@@@@@@@@@@.@@@@@@@@.@@@@@@...@@..@@@@.
@.@@.@.@.@.@..@@@.@@...@@@..@.@@.@@@@@......@@@@@.@@.@@@@@@..@@...@...@..@@.@@.@@..@@.@@.@@.@@.@@@@@@.@@@..@@.@@@@@@@@@.@.@.@@@@.@@@@@@.@@@
..@@@@@@.@...@..@@@@@@@@@.@@@@@...@@@@@@@@@@@@.@.@@..@.@@@....@@@.@..@@@@@@@@@@.@@.@@@@.@.@@.@.@@@@@@.@@@@..@.@@@..@@@@.@@@@@@@@@..@@@@@.@@
@@@@@@.@@@.@@.@..@@.@..@.@.@.@@.@@@@@@...@..@@.@.@@@@.@.@@@..@.@@..@.@@@...@@@...@.@.@@.....@@.@..@@@@.@@..@@.@@@@@@@..@.....@@@.@.@@@@..@@
.@@....@.@.....@.@@@@....@@@..@...@@@@@@.@@@@.@@@.@@.@@@..@@.@@@.@.@...@@@.@.@@.@.@.@@@..@@@@@.@@@@@@@@@.@@.@.@@.@.@@.@@..@.@@@@.@@@@@@@@@@
@.@@@@@@@.@@@@@.@..@@@@@@.....@..@@@@@.@@@.@@@.@@@@.@..@@.@@@..@@@.@@@@@.@@@@@@.@@..@@.@..@@@@@@@@@@@@.@@.@@.@@@..@@.@@@@..@@.@@@@@@@@@.@..
@@.@@.@.@@@@..@@@@.@@@@@@@@...@@@@..@@..@.@@.@@@@@@@@.@.@@@@.@@@..@@@@@@.@@@@@.@@.@@.@....@@@@@@..@@@@.@@@@.....@@...@@.@@.@@@.@@@@.@@@.@.@
.@@@.@@@@@@.@.@.@@@.@.@.@..@@.@.@@@.@@@@@@@@@..@@.@.@@@@@@@@.@.@.@.@@.@@..@@...@.@@@@@@@.@.@@.@.@@.@..@@@..@@.@.@@@.@@..@@@@@@@@.@@@@@.@@@@
.@@.@@@.@@@.@@@..@@.@@..@@..@@@.@.@@....@@..@..@@@@@@@@@@@.@@@.@.@@@@..@@.@.@@@@@@@@@..@.@.@@@@@@...@@@@.@..@@.@.@.@@@@@.@..@@@@@@..@...@@@
.@@@@.@@@@@@@@.@@.@@@@@..@@@@.@.@@@...@@@.@@@..@@@@@@@@.@.@@@.@@.@@@.@@@@@@@@@.@..@.@.@@..@@@@...@@..@@.@..@.@@@@..@@@@@@..@@@....@.@@@@.@@
.@@.@..@.@..@.@@@@@@@@.@@@@@@@@@@..@@...@..@@.@@.@@@.@..@..@@.@@@@@@.@.@.@@.@@@.@@...@@@@@@@@@..@@@@@...@.@@@@..@@@.@.@.@.@@@@..@@@@@.@@..@
@@@.@@@.@.@@.@@@@.@.@@@.@@@@@@.@@@@.....@@@@@..@@@...@.@@@..@@@@.@@..@@@.@@@..@@@@..@@.@@.@..@@.@@..@.@@@@@.@@@@.@@....@@@@@@@@.@@@@@.@.@..
@@...@@@@@@@@@@@@@..@.@@@..@@@@@@@@@@.@@.@..@.@@@@...@.@..@@@.@@.@.@.@@@@@@@.@..@@.@@..@@@@@@@@@@@.@.@@@@@.@@@@@.@@@@..@@..@.@@@@.@@@@@...@
.@@@@.@..@@@.@@@.@@@@...@@@.@@@....@@.@@@@@@@..@.@.....@.@@@...@@@@@@@..@@@.@.@@@@.@..@@@.@.@.@@@@@@@..@@@@@..@.@@@@.@@@@@.@.@@.@@.@@@@.@..
@@@..@@@@.@@@@..@@..@@@@@..@.@.@.@...@.@@.@@@..@@.@.@@@@@@@.@@@@...@@..@@..@@@.@..@@@.@.@@@@.@.@@@@@@@@.....@@.@@@@@..@@@@@@....@@@.@@@@@@.
@@.@@@@@@@@@..@@@.@.@.@..@..@.@..@@@..@@..@.@@@@.@@@@@@@@@@@@@@@.@..@@@@@@@@@@@@.@@@@.@@...@@@.@@.@@.@@@@@@.@@@@..@...@.@@@@@.@.@.@@@@@@@@.
.@.@@@.@@.@@..@@.@.@...@.@.@@..@..@@@..@@@@.@@@..@@@..@.@.@.@.@@@@@@@@@@....@@.@@@@.@@@@@@..@@@..@@@.@@@@..@..@@@.@@@@@@@.@.@.@@@@@@@@...@.
.@....@.@.@@@@@.@@@@.@@@.@..@...@@@.@@.@@..@.@@@@@@@@.@.@.@@.@.@@..@@..@.@...@@@@@.@@@@@..@@.@@@.@@@@..@@.@@@@@@.@....@@@@@@@@@@@.....@@.@@
@..@@.@@@@@@@@@.@@@.@..@@@@.@@@@@.@.@@.@.@@@@@..@@@.@@.@@@..@.@.@@@...@.@.@@@..@@@@@@@@@..@.@@@@.@@.@@@@@@@@..@@.@.@@@....@@@@@@..@.@...@@@
.@@@@@..@@@.@..@@@.@@@.@.@@.@@.@@.@...@.@.@@..@@@@@@@...@@..@@@@@@@.@@@..@..@.@@@..@@@@@@.@@@@..@.@@@@@@@@@@@@.@.@@.@@@.@@@.@@.@.@.@.@.@@@.
@@@@@..@...@@@...@@@.@.@@@@...@..@@@@@@@@..@@...@.@.@@@@@.@@@@.@@@.@@@@@..@@@...@.@@@@@@@@.@@.@@@...@@@@@@.@@@@@.@@@@@@@.@@.@.@@.@@@..@@@@@
@..@.@@.@@@@@.@@.@@...@@@.@@@....@...@..@..@.@@@@.@@@@@@@@@.@.@@@@@@@@..@@@@@@..@..@.@@..@@@.@@...@.@.@.@..@@..@@@@.@.@.@..@@.@@.@.@@@@@@@@
@@.@.@.@@@@....@.@@@@.@@@..@.@@@.@.@@.@@..@@.@@@.@...@.@@@@@@@@@..@..@@@@@@@.@...@@@..@@@..@..@@..@@@@@@...@.@@.@@@@@..@@@@@@.@@@@@.@@@@@@.
@@..@@@@@@.@..@.@.@@@@.@@@@@.@@@.@@@@@@@.@@@@@....@@.@@..@@@@@@@@@...@.@@@.@@@.@@.@@@@.@..@.@.@.@@@@@.@@@@...@.@@@@@@.@.@@.@@@@@..@@@@@.@@@
.@..@@@.@..@.@.@...@@@@@.@@@@.@@@@@@@@@@@.@@.@@@@@.@@.@@.@@@.@@@.@...@.@@@@@@@.@.@@@@.@@@@@@@@@@@@...@@@@.@@.@@@@@@@.@@.@@@.@.@@.@@@.@@@@@@
@@@@.@@@@.@@@@@@@@@@.@@@@@...@.@@@@@.@@@@@@@@@.@@@..@...@@...@@@.@..@@@..@.@@.@@@@.@@@@.@@@@@@@@@.@@@@@@.@@@.@.@@@.@@.@.@..@@@@.@..@@@..@@@
....@..@@.@.@...@@@@@@..@@.@@.@@..@@@..@@..@@.@..@@@@.@@@.@@@@@.@@.@@..@..@@..@@@@@..@.@@@@@@@@..@.@@..@@@@..@@@@..@@...@...@.@..@@@@@@@@..
@@..@@@@.@@.....@.@@@@..@.@@..@@@.@@@@@@@@@@@@@@.@@@@.@@@@.@@.@@.@@@@@.@@.@..@@.@......@@@.@@@..@@@@@@@@@@.@.@@...@@@@@@@@.@.@@.@@@@@.@@@@.
@@@..@.@@.@@@@.....@@@.@.@@@.@@@.@....@@@@.@.@.@@@..@@@.@@.@@@.@@.@.@@..@@@@@.@.@@..@.@.@...@@@.@.@.@@@@.@@.@@@.@@..@..@@@.@.@@.@@..@..@@@.
..@@.@@@@@@@@.@.@@..@..@@@..@..@@@..@.....@@@@..@@@.@@.@@@.@@@....@@.@.@@....@@@@@@.@@@.@@@.@@@.@@@.@@@@@@@.@@....@@@@..@.@....@@@@.@..@@@@
@..@.@@.@@.@.@@@.....@.@@@@.@.@@.@@..@@@@.@..@@@@@@.@@@@@.@@@@..@@@@@@@@@@@@@.@.@.@@@.@.@@@@@@@@.@.@@@@.@@@.@@@@@.@@@@@@..@@@@@..@.@.@@@@@@
@@@@@..@@@..@@@@@@.@@@.@.@.@@@..@@@@@@@.@@....@@@@@@@..@@..@..@@.@@@@@.@.@@@....@@@@@@.....@....@@.@@@@.@@@.@@@@.@@@@.@@@@@@..@@.@@...@@@.@
.@....@@.@.@..@.@.@@@@@@@@@.@@.@@@.@...@.....@@.@@...@@@@@@@..@.@@@@@.@@.@@@@@@@.@@..@.@@@.@.@@@.@@@@@@.@@..@@@.@@..@@@.@@@.@.@@...@@@@..@.
@..@@@@@@@@.@@@.@@@@.@..@.@@@.@@@@..@@.@@@@.@@.@@@.@@@@@@@@.@@@..@@..@@@@@.@@.@.@@.@.@@@.@@@.@@.@.@@@@....@@@..@.@@.@.@.@@@.@@@@@@@@@.@@@@@
.@@@.@@@.@@@@.@.@@@@@@@.@.@@@@@@@.@@@@@@.@@.@@@.@@.@.@.@@@@@@...@@@@@.@@@@....@.@@@@@..@.@@@@@@@@@.@.@@.@.@@...@.@.....@@.@@@@@@@..@@@.@.@.
@@@@..@@@.@@@.@@@@@@@@@.@@.@@..@.@@.@@...@@.@@@.@@.@@..@@..@@@@.@@.@@@@@@@@@.@.@@@@@@.@@@@..@..@@..@@@.@@.@@@@@@.@@@@.@.@.@@@@@@@@@....@@.@
@@@.@@@@@@.@@....@@@@@@@@@@@@@@.@@@@@@.@@@@.@.@.@@@@.@@@..@@.@@...@@@@@.@@@@@..@....@@@....@@.@@.@...@.@@@.@@...@@.@@@@.@@@@.@..@.@@@@@@@..
@@@.@@..@..@.@@@@.@@@@@@@.@@@@@.@..@@.@@@@.@@@@.@.@@.@.@@@.@@@..@@@..@@@@...@@.@@@@.@@@@@..@.@@@@@@.@@@.......@@@@.@@@@@..@@..@@@@@..@@@@@@
@@.@@@@..@.@..@..@.@.@.@.@@@@@...@.@.@.@.@....@.@@.@@@.@.@@@@@@...@.@@@.@@@@@@@.@@@.@@@@.@....@@@.@.@@.@.@@@@@..@@@@@@....@@@..@@.@....@@@@
@@.@@@@@@.@@.@@@.@.@@@.@..@@@..@@.@@.@@..@@@.@@@.@@..@@@@@@@.@@.@.@..@@@@@@@@.@@@@@...@@.@@@..@.@@@@@@.@@@...@.@.@.@@@..@.@@...@@@@..@@@@@.
.@.@.@..@@@@@@@@.@.@@..@..@@..@@@.@.@.@@.@@.@@@@@@..@.@@.@..@.@@@.@.@@@.@@@@@.@.@@@@.@.@@...@.@@@..@@@@..@.@@@.@.@.@@..@@@@@@.@@@@..@.@@@@@
.@@.@.@@@@@@.@..@@@@@@.@@@@.@.....@@@@@@.@@..@.@@@..@@..@@@@.@.@.@@.@..@.@@@@.@@@@@.@@..@@@.@..@...@@@@@@@..@@.@@@.@@@@@.@@.@.@@@@@.@@@@..@
..@.@..@@.@@.@@@@@@@..@.@...@..@@@...@@@.@@@@....@@@@....@@@@@@@.@.@@.@@@@@@.@@.@@...@@@@..@.@..@.@@@@@.@@..@@@.@@@@..@@@.@@@@..@@.@.@..@@.
@.@@@@@@@@@.@@@@..@.@.@@@@..@@..@@@@.@@@@@..@@...@@@@..@.@....@.@@.@.@@.@.@.@.@@@@@@.@@.@....@.@.@..@@@.@..@@@@.@@@@@.@.@.@@@.@.@.@.@..@@@@
@.@@@@.@...@@@.@@..@.@@.@@@...@..@@.@@@@@@@@.@@@@@.@.@..@..@.@@@.@...@@@.@@..@.@..@.@@@...@@@@@@@@@@@@..@@@@@@..@@@..@@@.@.@@@..@@@@@.@.@@@
.@@@@@@.@....@.@..@@@@@.@.@@.@@@.@@@@..@.@.@.@.@.@...@.@@.@@@@..@@@@@.@@.@..@@@@@@.@.@@@@@@@@@@@.@..@.@@..@.@@@@@@.@@@.@@.@@@@@.@.@..@.@@..
@@.@@@.@.@@@@@..@.@@@@@@.@@.@.@@@..@@@@@@@.@@@@..@@@@@.@..@.@.@..@.@@@@@.@.@@.@.@@@@@@@...@..@.@.@@..@@..@@@@@.@.@@@@.@@..@@@...@.@.@.@@.@@
@@@@@@@@.@..@.@@.@..@@@....@....@..@@@.@@@@.@@@..@@@@@@@..@.@@@@@.@.@@..@@@..@@.@@@@.@.@@@.@@.@@@@@@..@.@@.@..@.@@.@@.@@@@.@...@@@@....@@.@
.@@@@@..@....@@@@...@@@.@.@.@@@@.@@..@.@@..@@@@..@.@@@@@@@@@.@..@.@@@@.@@@@@.@@@.@.@@@..@@...@.@.@..@@@.@@.@..@@.@@@.@@.@@.@@@@.@@..@@@@@@.
.@@@..@@@@@@@....@@@@.@@@@@.@@@@@@@.@@@@@.@@.@@@@.@.@.@@.@@@@..@@.@......@@@@.@@@@....@@.@@@.@.@@.@@@@@@.@@@@@.@.@@...@@.@@.@...@@@..@@@@..
""".strip("\n")

# --- Normalise and load grid ---
raw_lines = puzzle_input.splitlines()

# Remove trailing spaces, keep only actual characters
lines = [line.rstrip() for line in raw_lines]

# Determine the maximum width and pad short lines with '.'
max_w = max(len(line) for line in lines)
grid = [list(line.ljust(max_w, '.')) for line in lines]

h = len(grid)
w = max_w

# Directions for 8-neighbours
dirs = [(-1,-1),(-1,0),(-1,1),
       (0,-1),        (0,1),
       (1,-1),(1,0),(1,1)]

accessible_count = 0
accessible = [[False]*w for _ in range(h)]

for r in range(h):
   for c in range(w):
       if grid[r][c] != '@':
           continue
       neighbours = 0
       for dr, dc in dirs:
           rr = r + dr
           cc = c + dc
           if 0 <= rr < h and 0 <= cc < w and grid[rr][cc] == '@':
               neighbours += 1
       if neighbours < 4:
           accessible[r][c] = True
           accessible_count += 1

# Build marked grid
marked = []
for r in range(h):
   row = ""
   for c in range(w):
       if grid[r][c] == '@' and accessible[r][c]:
           row += "x"
       else:
           row += grid[r][c]
   marked.append(row)

# Output results
print("Accessible rolls:", accessible_count)
